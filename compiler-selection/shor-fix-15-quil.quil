DECLARE ro BIT[3]
H 0
H 1
H 1
CPHASE(0) 1 0
H 0
H 2
CNOT 2 3
CNOT 2 4
CPHASE(0) 1 2
CPHASE(0) 0 2
H 2
MEASURE 0 ro[0]
MEASURE 1 ro[1]
MEASURE 2 ro[2]